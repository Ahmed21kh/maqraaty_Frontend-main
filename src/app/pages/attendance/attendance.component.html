<div class="attendance_div">
  <div>
    <app-breadcrumb></app-breadcrumb>
    <div class="attendance_table">
      <nz-card nzTitle="تفاصيل الحضور" [nzBordered]="true" class="!rounded-md">
        @if (loadingData) {
        <div nz-row [nzGutter]="[24, 24]" [nzJustify]="'space-around'">
          <div nz-col nzXs="24" nzLg="8" class="flex items-center gap-2">
            <span
              nz-icon
              nzType="usergroup-add"
              nzTheme="outline"
              class="text-gray-400 me-1 text-xl"
            ></span>
            <span class="text-lg font-semibold">عدد الطلاب :</span>
            <span>
              <nz-skeleton-element
                class="mr-1"
                nzType="button"
                [nzActive]="true"
                [nzBlock]="false"
                [nzSize]="'small'"
                [nzShape]="'round'"
              ></nz-skeleton-element>
            </span>
          </div>
          <div nz-col nzXs="24" nzLg="8" class="flex items-center gap-2">
            <span
              nz-icon
              nzType="user-add"
              nzTheme="outline"
              class="text-gray-400 me-1 text-xl"
            ></span>
            <span class="text-lg font-semibold">عدد الحضور :</span>
            <span>
              <nz-skeleton-element
                class="mr-1"
                nzType="button"
                [nzActive]="true"
                [nzBlock]="false"
                [nzSize]="'small'"
                [nzShape]="'round'"
              ></nz-skeleton-element>
            </span>
          </div>
          <div nz-col nzXs="24" nzLg="8" class="flex items-center gap-2">
            <span
              nz-icon
              nzType="user-delete"
              nzTheme="outline"
              class="text-gray-400 me-1 text-xl"
            ></span>
            <span class="text-lg font-semibold">عدد الغياب :</span>
            <span>
              <nz-skeleton-element
                class="mr-1"
                nzType="button"
                [nzActive]="true"
                [nzBlock]="false"
                [nzSize]="'small'"
                [nzShape]="'round'"
              ></nz-skeleton-element>
            </span>
          </div>
        </div>

        }@else {

        <div nz-row [nzGutter]="[24, 24]" [nzJustify]="'space-around'">
          <div nz-col nzXs="24" nzLg="8" class="flex items-center gap-2">
            <span
              nz-icon
              nzType="usergroup-add"
              nzTheme="outline"
              class="text-gray-400 me-1 text-xl"
            ></span>
            <span class="text-lg font-semibold">عدد الطلاب :</span>

            <nz-tag class="!text-xl" >{{
              attendanceDetails?.totalStudents
                ? attendanceDetails?.totalStudents
                : 0
            }}</nz-tag>
          </div>
          <div nz-col nzXs="24" nzLg="8" class="flex items-center gap-2">
            <span
              nz-icon
              nzType="user-add"
              nzTheme="outline"
              class="text-gray-400 me-1 text-xl"
            ></span>

            <span class="text-lg font-semibold">عدد الحضور :</span>
            <nz-tag class="!text-xl" [nzColor]="'green'">{{
              attendanceDetails?.totalAttend
                ? attendanceDetails?.totalAttend
                : 0
            }}</nz-tag>
            <!-- <span
              class="text-xl font-bold text-green-600 py-0 flex justify-center w-fit items-center rounded-lg"
              >{{ attendanceDetails?.totalAttend }}</span
            > -->
          </div>
          <div nz-col nzXs="24" nzLg="8" class="flex items-center gap-2">
            <span
              nz-icon
              nzType="user-delete"
              nzTheme="outline"
              class="text-gray-400 me-1 text-xl"
            ></span>

            <span class="text-lg font-semibold">عدد الغياب :</span>
            <nz-tag class="!text-xl" [nzColor]="'red'">{{
              attendanceDetails?.totalAbsent
                ? attendanceDetails?.totalAbsent
                : 0
            }}</nz-tag>
            <!-- <span
              class="text-xl font-bold text-red-600 py-0 flex justify-center w-fit items-center rounded-lg"
              >{{ attendanceDetails?.totalAbsent }}</span
            > -->
          </div>
        </div>
        }
      </nz-card>

      <div
        style="
          margin-block: 20px;
          display: flex;
          align-items: center;
          justify-content: space-between;
          gap: 20px;
        "
      >
        <nz-input-group
          [nzSize]="'large'"
          style="border-radius: 15px"
          [nzSuffix]="suffixIconSearch"
        >
          <input
            [nzSize]="'large'"
            class="rounded-md"
            type="text"
            nz-input
            [(ngModel)]="searchCode"
            (keyup)="handleSearchQuery()"
            placeholder="البحث بالكود "
          />
        </nz-input-group>
        <nz-input-group
          [nzSize]="'large'"
          style="border-radius: 15px"
          [nzSuffix]="suffixIconSearch"
        >
          <input
            [nzSize]="'large'"
            class="rounded-md"
            type="text"
            nz-input
            [(ngModel)]="searchPhone"
            (keyup)="handleSearchQuery()"
            placeholder="البحث برقم الهاتف"
          />
        </nz-input-group>
        <nz-input-group
          [nzSize]="'large'"
          style="border-radius: 15px"
          [nzSuffix]="suffixIconSearch"
        >
          <input
            [nzSize]="'large'"
            class="rounded-md"
            type="text"
            nz-input
            [(ngModel)]="searchName"
            (keyup)="handleSearchQuery()"
            placeholder="البحث بالاسم"
          />
        </nz-input-group>
        <ng-template #suffixIconSearch>
          <span nz-icon nzType="search"></span>
        </ng-template>
        <nz-date-picker
          [nzSize]="'large'"
          [(ngModel)]="dateFilter"
          class="!w-full !rounded-xl"
          [nzPlaceHolder]="'بحث بتاريخ الحضور'"
          (ngModelChange)="onChange($event)"
        ></nz-date-picker>
      </div>
      <!-- <div style="margin-block: 20px;display:flex;align-items: center;justify-content: space-between;gap: 20px;">

       </div> -->
      <ng-template #pagination>
        <nz-pagination
          [nzPageIndex]="pageNumber"
          [nzPageSize]="pageSize"
          [nzTotal]="total"
          (nzPageIndexChange)="changePagination($event)"
        ></nz-pagination>
      </ng-template>
      <ng-template #totalData>
        <!-- <div style="border: 1px solid #000;width: 50px;height: 50px;position: absolute;">
          {{1000}}
        </div> -->
      </ng-template>
      <nz-table
        dir="rtl"
        [nzPageSize]="pageSize"
        #filterTable
        [nzTotal]="total"
        [nzShowTotal]="totalData"
        nzPaginationPosition="bottom"
        [nzFrontPagination]="false"
        [nzShowPagination]="false"
        [nzItemRender]="pagination"
        [nzLoading]="loadingSearch || loadingData"
        (nzPageIndexChange)="changePagination($event)"
        [nzData]="listOfData"
        nzTableLayout="fixed"
        [nzFooter]="pagination"
      >
        <thead>
          <tr>
            @for (column of listOfColumns; track $index) {
            <!-- <ng-template ngFor let-column [ngForOf]="listOfColumns"> -->
            <th
              style="text-align: center"
              [nzSortOrder]="column.sortOrder"
              [nzSortFn]="column.sortFn"
              [nzSortDirections]="column.sortDirections"
              [nzFilterMultiple]="column.filterMultiple"
              [nzFilters]="column.listOfFilter"
              [nzFilterFn]="column.filterFn"
            >
              {{ column.name | empty }}
            </th>

            <!-- </ng-template> -->
            }
            <th></th>
          </tr>
        </thead>
        <tbody>
          @for (data of filterTable.data; track $index) {
          <!-- <ng-template ngFor let-data [ngForOf]="filterTable.data"> -->
          <tr [id]="$index">
            <td>{{ data.studentDetails.code | empty }}</td>
            <td
              class="cursor-pointer"
              (click)="openShowStudent(data.studentDetails)"
            >
              {{ data.studentDetails.name | empty }}
            </td>
            <td>{{ dateAttendance | date : "dd-MM-YYYY" }}</td>
            <td>
              @if (data.studentDetails.image !== '' && data.studentDetails.image
              !== null) {

              <img
                nz-image
                loading="lazy"
                width="70"
                height="70"
                style="margin: auto"
                [nzSrc]="url + '' + data.studentDetails.image"
                alt="img"
                class="cursor-pointer"
              />
              }@else {
              <img
                loading="lazy"
                width="70"
                height="70"
                style="margin: auto"
                [src]="'assets/user.png'"
                alt="img"
              />
              }
            </td>
            <td>
              <div class="w-full flex justify-center items-center">
                <ng-template #contentTemplate>
                  <nz-radio-group
                    class="flex gap-x-5"
                    (ngModelChange)="
                      changeStatusOfAttendance($event, data, data.date)
                    "
                    [ngModel]="data.isToday ? data.status : '_'"
                  >
                    <label nz-radio nzValue="حاضر">حاضر</label>
                    <label nz-radio nzValue="غائب">غائب</label>
                  </nz-radio-group>
                </ng-template>
                <ng-template #popOvertitle>
                  <div dir="rtl" class="text-right">{{ "حالة الحضور :" }}</div>
                </ng-template>

                @if(data.isToday) {
                <nz-tag
                  (nzPopoverVisibleChange)="onTagClick($event, data._id)"
                  nz-tooltip
                  [nzTooltipTitle]="'اضغط لتعديل الحضور'"
                  nzTooltipPlacement="left"
                  [nzPopoverTitle]="popOvertitle"
                  nz-popover
                  nzPopoverTrigger="click"
                  [nzPopoverContent]="contentTemplate"
                  [nzPopoverVisible]="popOverVisible.get(data._id)"
                  class="cursor-pointer w-1/2"
                  [nzColor]="data.status == 'حاضر' ? 'green' : 'red'"
                  >{{ data.status }}</nz-tag
                >

                }@else {
                <nz-tag
                  (nzPopoverVisibleChange)="onTagClick($event, data._id)"
                  nz-tooltip
                  [nzTooltipTitle]="'اضغط لتعديل الحضور'"
                  nzTooltipPlacement="left"
                  [nzPopoverTitle]="popOvertitle"
                  nz-popover
                  nzPopoverTrigger="click"
                  [nzPopoverContent]="contentTemplate"
                  [nzPopoverVisible]="popOverVisible.get(data._id)"
                  class="cursor-pointer w-1/2"
                  [nzColor]="'blue'"
                >
                  <div class="flex gap-1 items-center justify-center">
                    <span class="font-bold">{{ "اختر" }}</span>
                  </div>
                </nz-tag>

                }
              </div>
            </td>
            <td>
              <div
                nz-tooltip="تفاصيل الحضور"
                class="cursor-pointer"
                (click)="
                  showEditModal(
                    data._id,
                    data.student,
                    data.attend_days_month,
                    data
                  )
                "
              >
                <span
                  nz-icon
                  nzType="info-circle"
                  nzTheme="outline"
                  class="cursor-pointer"
                ></span>
              </div>
            </td>
            <!-- <td>
              <div style="display: flex; justify-content: space-around">
                <span
                  nz-icon
                  nzType="delete"
                  (click)="handleOpenConfirmDelete(data?._id)"
                  style="
                    color: rgb(208, 19, 19);
                    font-size: 20px;
                    cursor: pointer;
                  "
                  nzTheme="fill"
                ></span>
              </div>
            </td> -->
          </tr>

          <!-- </ng-template> -->
          }
        </tbody>
      </nz-table>
    </div>
    <nz-modal
      [(nzVisible)]="editModal"
      nzTitle="تفاصيل الحضور للطالب"
      (nzOnCancel)="cancelEditModal()"
      nzCancelText="اغلاق"
      nzOkText
      [nzFooter]="editFooter"
      nzWidth="100%"
      nzClassName=" attendance !top-0 overflow-auto  !bottom-0 !inset-0 !max-w-full absolute !pb-0"
      [nzBodyStyle]="{
        height: 'calc(100% - 120px)',
        'max-width': '100% !important',
        overflow: 'auto',
        'padding-block': '0'
      }"
    >
      <ng-container *nzModalContent>
        <!-- <div dir="rtl" class="my-3 flex justify-start items-center">
          <nz-date-picker
            [nzSize]="'large'"
            [nzInputReadOnly]="true"
            [nzAllowClear]="false"
            [(ngModel)]="attendanceDate"
            class="w-1/5 rounded-xl"
            (ngModelChange)="changeAttendanceDate($event)"
          ></nz-date-picker>
        </div> -->
        <nz-card [nzTitle]="''" class=" !mt-3 !rounded-md !shadow-md " [nzBordered]="true" >
          <div
            nz-row
            [nzGutter]="[24, 24]"
            dir="rtl"
          >
            <div nz-col [nzXs]="24" [nzLg]="8">
              <span class="text-lg font-semibold">الاجمالي :</span>
              <nz-tag class="!text-xl" >{{
                dataOfDays.length
              }}</nz-tag>
            </div>
            <div nz-col [nzXs]="24" [nzLg]="8">
              <span class="text-lg font-semibold">عدد الحضور :</span>
              <nz-tag class="!text-xl" [nzColor]="'green'">{{
                attend ? attend :0
              }}</nz-tag>
            </div>
            <div nz-col [nzXs]="24" [nzLg]="8">
              <span class="text-lg font-semibold">عدد الغياب :</span>
              <nz-tag class="!text-xl" [nzColor]="'red'">{{
                absence? absence: 0
              }}</nz-tag>
            </div>
          </div>
        </nz-card>
        <div class="my-4 px-4" dir="rtl">
          <ngx-slick-carousel
            class="carousel"
            #slickModal="slick-carousel"
            [config]="slideConfig"
            (init)="slickInit($event)"
            style="direction: rtl"
            dir="rtl"
            (breakpoint)="breakpoint($event)"
            (afterChange)="afterChange($event)"
            (beforeChange)="beforeChange($event)"
          >
            @for (month of listofMonths; track $index) {
            <div ngxSlickItem class="slide" dir="rtl">
              <button
                nz-button
                (click)="handleChangeMonth(month)"
                 [nzType]=" activeMonth == month ? 'primary':'default'"
                class=" !rounded-lg !w-full"
              >
                شهر {{ month }}
              </button>
            </div>
            }
          </ngx-slick-carousel>
        </div>
        <nz-table
          [nzScroll]="{}"
          dir="rtl"
          #filterTable
          [nzFrontPagination]="false"
          [nzData]="dataOfDays"
        >
          <thead>
            <tr>
              <th style="text-align: center">اليوم</th>
              <th style="text-align: center">التاريخ</th>
              <th style="text-align: center">حالة الحضور</th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            @for (data of filterTable.data; track $index) {
            <!-- <ng-template ngFor let-data [ngForOf]="filterTable.data"> -->
            <tr>
              <td style="text-align: center">{{ data.day }}</td>
              <td style="text-align: center">
                {{ data.date | date : "dd-MM-YYYY" }}
              </td>
              <td style="text-align: center">
                @if(data.status == 'حاضر'){

                <span class="text-[green]">{{ data.status }}</span>

                }@else if(data.status == 'غائب') {
                <span class="text-[red]">{{ data.status }}</span>

                }@else {
                <span class="text-[#000]">{{ data.status }}</span>

                }
                <!-- <div class=" flex justify-center items-center">
              <nz-radio-group class=" flex gap-x-5" [ariaReadOnly]="true" (ngModelChange)="changeStatus(data.status)"  [(ngModel)]="data.status">
                <label nz-radio nzValue="حاضر">حاضر</label>
                <label nz-radio nzValue="غائب">غائب</label>
              </nz-radio-group>
            </div> -->
              </td>
              <td>
                <div class="w-full flex justify-center items-center">
                  <nz-radio-group
                    class="flex gap-x-5"
                    (ngModelChange)="
                      changeStatusOfAttendance($event, student_Data, data.date)
                    "
                    [(ngModel)]="data.status"
                  >
                    <label nz-radio nzValue="حاضر">حاضر</label>
                    <label nz-radio nzValue="غائب">غائب</label>
                  </nz-radio-group>
                </div>
              </td>
              <!-- <td>
            <div style="display: flex; justify-content: space-around">

              <button nz-button [nzType]="'primary'" class=" rounded-lg" (click)="showEditModal(data._id,data.student)">تعديل المصروفات</button>
              <span
                nz-icon
                nzType="delete"
                (click)="handleOpenConfirmDelete(data?._id)"
                style="
                  color: rgb(208, 19, 19);
                  font-size: 20px;
                  cursor: pointer;
                "
                nzTheme="fill"
              ></span>
            </div>
          </td> -->
            </tr>

            <!-- </ng-template> -->
            }
          </tbody>
        </nz-table>
      </ng-container>
    </nz-modal>
    <ng-template #editFooter>
      <div
        style="
          display: flex;
          align-items: center;
          gap: 10px;
          direction: rtl !important;
          justify-content: space-between;
        "
      >
        <div class="flex items-center gap-2">
          <!-- <span class="text-base font-semibold text-[#ff000069]">
            عدد الغياب :</span
          >
          <span class="text-lg font-medium">{{ absence }}</span> -->
        </div>
        <button
          (click)="cancelEditModal()"
          nz-button
          nzType="default"
          style="
            display: flex;
            align-items: center;
            gap: 15px;
            border-radius: 15px;
          "
        >
          اغلاق
        </button>
      </div>
    </ng-template>

    <nz-modal
      dir="rtl"
      [(nzVisible)]="showStudent"
      [nzTitle]="'بيانات الطالب'"
      (nzOnCancel)="closeShowStudent()"
      [nzFooter]="footer_show"
      [nzWidth]="'700px'"
      [nzStyle]="{ 'margin-top': '-38px' }"
      [nzBodyStyle]="{ 'overflow-y': 'auto', 'max-height': '720px' }"
    >
      <ng-container *nzModalContent>
        <div dir="rtl" nz-row [nzGutter]="[24, 20]">
          <div nz-col nzXs="24" nzMd="8" nzLg="8" nzXl="8">
            <!-- <nz-form-label
          >الصورة
        </nz-form-label> -->
            @if (student_Data.image !== '') {
            <img
              style="display: inline-block; cursor: zoom-in"
              dir="ltr"
              nz-image
              width="150px"
              height="150px"
              class="rounded-full"
              [nzSrc]="url + '' + student_Data.image"
              alt
            />
            } @else {
            <img
              style="display: inline-block"
              dir="ltr"
              nz-image
              width="150px"
              height="150px"
              class="rounded-full"
              [nzSrc]="'assets/user.png'"
              alt
            />
            }
          </div>
          <div nz-col nzXs="24" nzMd="16" nzLg="16" nzXl="16">
            <div nz-row [nzGutter]="[24, 10]">
              <div nz-col nzXs="24" nzMd="12" nzLg="12" nzXl="12">
                <nz-form-label class="!pr-0 !py-[1px] !text-gray-400"
                  >الاسم
                </nz-form-label>
                <p class="text-xl font-medium">
                  {{ student_Data.name | empty }}
                </p>
              </div>
              <div nz-col nzXs="24" nzMd="12" nzLg="12" nzXl="12">
                <nz-form-label class="!pr-0 !py-1 !text-gray-400"
                  >السن
                </nz-form-label>
                <p class="text-xl font-medium">
                  {{ student_Data.age | empty }}
                </p>
              </div>
              <div nz-col nzXs="24" nzMd="12" nzLg="12" nzXl="12">
                <nz-form-label class="!pr-0 !py-1 !text-gray-400"
                  >السنة الدراسية
                </nz-form-label>
                <p class="text-xl font-medium">
                  {{ student_Data.study_year | empty }}
                </p>
              </div>
              <div nz-col nzXs="24" nzMd="12" nzLg="8" nzXl="8">
                <nz-form-label class="!pr-0 !py-1 !text-gray-400"
                  >رقم موبايل الطالب
                </nz-form-label>
                <p class="text-xl font-medium">
                  {{ student_Data.phone_1 | empty }}
                </p>
              </div>
            </div>
          </div>

          <nz-divider></nz-divider>

          <div nz-col nzXs="24" nzMd="12" nzLg="8" nzXl="8">
            <nz-form-label class="!pr-0 !py-1 !text-gray-400"
              >رقم موبايل الام</nz-form-label
            >
            <p class="text-xl font-medium">
              {{ student_Data.phone_2 | empty }}
            </p>
          </div>
          <div nz-col nzXs="24" nzMd="12" nzLg="8" nzXl="8">
            <nz-form-label class="!pr-0 !py-1 !text-gray-400"
              >رقم موبايل الاب</nz-form-label
            >
            <p class="text-xl font-medium">
              {{ student_Data.phone_3 | empty }}
            </p>
          </div>
          <div nz-col nzXs="24" nzMd="12" nzLg="8" nzXl="8">
            <nz-form-label class="!pr-0 !py-1 !text-gray-400"
              >التليفون الارضي
            </nz-form-label>
            <p class="text-xl font-medium">
              {{ student_Data.landline | empty }}
            </p>
          </div>

          <nz-divider></nz-divider>

          <div nz-col nzXs="24" nzMd="12" nzLg="8" nzXl="8">
            <nz-form-label class="!pr-0 !py-1 !text-gray-400"
              >تاريخ التسجيل بالمقرأة
            </nz-form-label>
            <p class="text-xl font-medium">
              {{ student_Data.date | date : "dd-MM-YYYY" }}
            </p>
          </div>
          <div nz-col nzXs="24" nzMd="12" nzLg="12" nzXl="12">
            <div nz-row [nzGutter]="[20, 20]">
              <div
                nz-col
                nzXs="24"
                nzMd="12"
                [nzLg]="student_Data.is_payment == 'لا' ? 16 : 24"
                [nzXl]="student_Data.is_payment == 'لا' ? 16 : 24"
              >
                <nz-form-label
                  class="whitespace-pre-wrap !pr-0 !py-1 !text-gray-400"
                  >هل الطالب يستثنى من دفع المصروفات ؟
                </nz-form-label>
                <span class="text-xl font-medium">{{
                  student_Data.is_payment | empty
                }}</span>
              </div>
              @if (student_Data.is_payment == 'لا') {
              <div nz-col nzXs="24" nzMd="12" nzLg="8" nzXl="8">
                <nz-form-label
                  class="whitespace-pre-wrap !pr-0 !py-1 !text-gray-400"
                  >المصروفات
                </nz-form-label>
                <span class="text-xl font-medium"
                  >{{ student_Data.amount | empty }} {{ "ج" }}</span
                >
              </div>

              }
            </div>
          </div>
          <div nz-col nzXs="24" nzMd="12" nzLg="12" nzXl="12">
            <nz-form-label class="!pr-0 !py-1 !text-gray-400"
              >هل الطالب ازهري ؟
            </nz-form-label>
            <span class="text-xl font-medium">{{
              student_Data.is_Azhar | empty
            }}</span>
          </div>
          <div nz-col nzXs="24" nzMd="12" nzLg="12" nzXl="12">
            <nz-form-label class="!pr-0 !py-1 !text-gray-400"
              >هل للطالب اقارب ؟
            </nz-form-label>
            <span class="text-xl font-medium">{{
              student_Data.has_relative
            }}</span>
          </div>
          @if (student_Data.has_relative == 'نعم'){
          <div nz-col nzXs="24" nzMd="12" nzLg="8" nzXl="8">
            <nz-form-label class="!pr-0 !py-1 !text-gray-400">
              اسماء الاقارب
            </nz-form-label>
            <div class="flex flex-col gap-1 items-start">
              @for (item of student_Data.relative; track $index) {
              <span [id]="$index" class="text-xl font-medium"
                >- {{ getNameOfOneStudent(item) | empty }}</span
              >
              }
            </div>
          </div>

          }
          <nz-divider></nz-divider>

          <div nz-col nzXs="24" nzMd="12" nzLg="12" nzXl="12">
            <nz-form-label class="!pr-0 !py-1 !text-gray-400"
              >العنوان
            </nz-form-label>
            <p class="text-xl font-medium">
              {{ student_Data.address | empty }}
            </p>
          </div>
          <div nz-col nzXs="24" nzMd="12" nzLg="12" nzXl="12">
            <nz-form-label class="!pr-0 !py-1 !text-gray-400"
              >الملاحظات</nz-form-label
            >
            <p class="text-xl font-medium">{{ student_Data.notes | empty }}</p>
          </div>
        </div>
      </ng-container>
    </nz-modal>
    <ng-template #footer_show>
      <div
        style="
          display: flex;
          align-items: center;
          gap: 10px;
          direction: ltr !important;
        "
      >
        <button
          (click)="closeShowStudent()"
          nz-button
          nzType="default"
          style="
            display: flex;
            align-items: center;
            gap: 15px;
            border-radius: 15px;
          "
        >
          اغلاق
        </button>
      </div>
    </ng-template>

    <nz-modal
      [(nzVisible)]="isDeleteModal"
      nzTitle="حذف الحضور للطالب"
      (nzOnCancel)="handleCancelConfirmDelete()"
      nzCancelText="الغاء"
      nzOkText="حذف"
      [nzFooter]="delFooter"
      (nzOnOk)="handleDelete()"
    >
      <ng-container *nzModalContent>
        <div>
          <h1 style="font-size: 22px; text-align: end">
            هل انت متأكد من حذف هذا الحضور للطالب ؟
          </h1>
        </div>
      </ng-container>
    </nz-modal>
    <ng-template #delFooter>
      <div
        style="
          display: flex;
          align-items: center;
          gap: 10px;
          direction: ltr !important;
        "
      >
        <button
          (click)="handleCancelConfirmDelete()"
          nz-button
          nzType="default"
          style="
            display: flex;
            align-items: center;
            gap: 15px;
            border-radius: 15px;
          "
        >
          الغاء
        </button>
        <button
          nz-button
          nzType="primary"
          nzDanger
          style="
            display: flex;
            align-items: center;
            gap: 15px;
            border-radius: 15px;
          "
          (click)="handleDelete()"
        >
          حذف
        </button>
      </div>
    </ng-template>
  </div>
</div>
